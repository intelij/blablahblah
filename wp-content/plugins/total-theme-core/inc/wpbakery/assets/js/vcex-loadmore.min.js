!function(e,o){"use strict";e(window).on("load",function(){window.vcexLoadMore()}),"function"!=typeof window.vcexLoadMore&&(window.vcexLoadMore=function(a){e(".vcex-loadmore").each(function(){var a=e(this),i=a.find(".vcex-loadmore-button");if(i.length){var t=a.parent().find("> .wpex-row, > .entries, > .vcex-recent-news, .vcex-image-grid, .wpex-post-cards-list"),n=!1,s=o.ajaxurl,r=i.data(),d=r.page+1,c=r.maxPages,l=i.find(".vcex-txt"),p=r.text,v=r.loadingText,x=r.failedText;a.css("min-height",a.outerHeight()),i.on("click",function(o){var w=r.shortcodeParams;if(w.paged=d,!n){n=!0,i.parent().addClass("vcex-loading"),l.text(v);var g={action:"vcex_loadmore_ajax_render",nonce:r.nonce,shortcodeTag:r.shortcodeTag,shortcodeParams:w};e.post(s,g,function(o){var s="";o.success?(d+=1,(s=t.parent().hasClass("vcex-post-type-archive")?e(o.data).find("> .wpex-row > .col, > .wpex-row > .blog-entry, #blog-entries > .blog-entry"):e(o.data).find("> .wpex-row > .vcex-grid-item, > .vcex-recent-news > .vcex-recent-news-entry-wrap, .vcex-image-grid-entry, .wpex-post-cards-entry")).length?(s.css("opacity",0),s.each(function(){var o=e(this);o.hasClass("sticky")&&o.addClass("vcex-duplicate")}),t.append(s).imagesLoaded(function(){"undefined"!=typeof retinajs&&e.isFunction(retinajs)&&retinajs(),void 0!==wpex.equalHeights&&wpex.equalHeights(),t.hasClass("vcex-isotope-grid")||t.hasClass("vcex-navbar-filter-grid")||t.hasClass("wpex-masonry-grid")?t.isotope().append(s).isotope("appended",s).isotope("layout"):s.css("opacity",1),t.hasClass("justified-gallery")&&void 0!==e.fn.justifiedGallery&&t.justifiedGallery("norewind"),void 0!==wpex.overlayHovers&&wpex.overlayHovers(),void 0!==wpex.overlaysMobileSupport&&wpex.overlaysMobileSupport(),e(".wpb_animate_when_almost_visible",t).addClass("wpb_start_animation animated"),void 0!==wpex.sliderPro&&wpex.sliderPro(s),void 0!==window.vcexHovers&&window.vcexHovers(),void 0!==e.fn.mediaelementplayer&&s.find("audio, video").mediaelementplayer(),t.trigger("vcexLoadMoreFinished",[s]);var v=e(o.data).find(".vcex-loadmore-button").data();r=v||r,i.parent().removeClass("vcex-loading"),l.text(p),d-1==c&&a.hide(),n=!1})):console.log(o)):(i.text(x),console.log(o))}).fail(function(e,o,a){console.log(e.responseText)})}return!1})}})})}(jQuery,wpexLocalize);